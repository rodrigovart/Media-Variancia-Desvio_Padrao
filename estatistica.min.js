var media=[],quadrado=[];function countTr(){let count;return $("tbody tr").length}function add(){let numero=$("#numero").val(),n=countTr();if($("#numero").val(""),""==numero&&!numero)return console.log(media),!1;$("#tbody").append(`<tr id="trDados${n}">\n                <th scope="row"><i class="bi bi-trash-fill" onclick="javascript:$('#trDados${n}').remove()"></i></th>\n                <td id="td${n}">${numero}</td>\n            </tr>`),media[n]=numero}function calcular(){let amostra=$("#amostra").val();progress();let valorMedia=mediaAritimetica();notaMedia(valorMedia);let valorVariancia=variancia(amostra),resultdesvioPadrao;appendResult(valorMedia,valorVariancia,desvioPadrao(valorVariancia))}function mediaAritimetica(){let soma=0,valorMedia;for(key in media)soma+=parseFloat(media[key]);return parseFloat(soma/countTr()).toFixed(2)}function notaMedia(valorNotaMedia){for(const key in media){let valor=parseFloat(media[key])-valorNotaMedia;$(`#trDados${key}`).append(`<td id="nota-media${key}">${valor.toFixed(2)}</td>`),Quadrado(key,valor)}}function Quadrado(n,valor){let result=Math.pow(valor,2);quadrado[n]=result,$(`#trDados${n}`).append(`<td id="quadrado${n}">${result.toFixed(2)}</td>`)}function variancia(amostra=0){let soma=0,valorMediaQuadrado;for(key in quadrado)soma+=parseFloat(quadrado[key]);return console.log(soma),console.log(countTr()),console.log(amostra),[parseFloat(soma/(countTr()-amostra)).toFixed(2),soma]}function desvioPadrao(valorVariancia){let resultdesvioPadrao;return Math.sqrt(valorVariancia[0]).toFixed(2)}function appendResult(valorMedia,valorVariancia,resultdesvioPadrao){$("#tbody").append(`<tr id="resultado">\n            <th scope="row">MEDIA: </th>\n            <td id="media" colspan="2">${valorMedia}</td>\n            <td id="soma-quadrado"><b>SOMA QUADRADO:</b> ${valorVariancia[1].toFixed(2)}</td>\n        </tr>\n        <tr>\n            <th scope="row">VARIANCIA: </th>\n            <td id="media">${valorVariancia[0]}</td>\n        </tr>\n        <tr>\n            <th scope="row">DESVIO PADRAO: </th>\n            <td id="media">${resultdesvioPadrao}</td>\n        </tr>`),$("#alert").empty().append("FEITO!"),delete media,delete quadrado}function progress(){let value=0;for(let i=0;i<=100;i++)value+=100/3,$("#progress-bar").css({width:`${value}%`})}function limpar(){location.reload()}$("#numero").on("keydown",(function(e){13==e.which&&(add(),e.preventDefault())}));